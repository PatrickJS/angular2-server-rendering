!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.preboot=e()}}(function(){return function e(t,n,o){function r(i,s){if(!n[i]){if(!t[i]){var l="function"==typeof require&&require;if(!s&&l)return l(i,!0);if(a)return a(i,!0);var u=new Error("Cannot find module '"+i+"'");throw u.code="MODULE_NOT_FOUND",u}var d=n[i]={exports:{}};t[i][0].call(d.exports,function(e){var n=t[i][1][e];return r(n?n:e)},d,d.exports,e,t,n,o)}return n[i].exports}for(var a="function"==typeof require&&require,i=0;i<o.length;i++)r(o[i]);return r}({"./freeze/freeze_with_spinner.js":[function(e,t,n){function o(e){var t=e.freezeStyles||{},n=t.overlay||{},o=t.spinner||{};i.overlay=a.addNodeToBody("div",n.className,n.style),i.spinner=a.addNodeToBody("div",o.className,o.style),a.on(e.freezeEvent,function(e){i.spinner.top=e.target.offsetTop,i.spinner.left=e.target.offsetLeft,i.overlay.style.display="block",i.spinner.style.display="block",setTimeout(function(){i.overlay&&(i.overlay.style.display="none"),i.spinner&&(i.spinner.style.display="none")},4e3)})}function r(){a.removeNode(i.overlay),a.removeNode(i.spinner),i.overlay=null,i.spinner=null}var a=e("../dom"),i={overlay:null,spinner:null};t.exports={state:i,prep:o,cleanup:r}},{"../dom":2}],"./listen/listen_by_selectors.js":[function(e,t,n){function o(e){var t,n,o,a,i,s,l,u=[],d=e.eventsBySelector||{},p=Object.keys(d);for(t=0;t<p.length;t++)if(n=p[t],l=d[n],a=r.getAllAppNodes(n))for(i=0;i<a.length;i++)for(o=a[i],s=0;s<l.length;s++)u.push({node:o,eventName:l[s]});return u}var r=e("../dom");t.exports={getNodeEvents:o}},{"../dom":2}],"./replay/replay_after_rerender.js":[function(e,t,n){function o(e,t,n){var o,a,i,s,l,u=[];for(e=e||[],o=0;o<e.length;o++)a=e[o],l=a.event,i=a.node,s=r.findClientNode(i),s?(s.value=i.value,s.dispatchEvent(l),n(3,i,s,l)):(n(4,i),u.push(a));return u}var r=e("../dom");t.exports={replayEvents:o}},{"../dom":2}],1:[function(e,t,n){function o(){var e=a.state.appRoot,t=e.cloneNode(!1);t.style.display="none",e.parentNode.insertBefore(t,e),a.updateRoots(e,e,t)}function r(){var e=a.state.clientRoot||a.state.appRoot,t=a.state.serverRoot||a.state.appRoot;i.switched||(t!==e&&"BODY"!==t.nodeName&&(t.remove?t.remove():t.style.display="none"),e.style.display="block",a.updateRoots(e,null,e),i.switched=!0)}var a=e("../dom"),i={switched:!1};t.exports={state:i,prep:o,switchBuffer:r}},{"../dom":2}],2:[function(e,t,n){function o(e){h.window=e.window||h.window||{},h.document=e.document||h.window.document||{},h.body=e.body||h.document.body,h.appRoot=e.appRoot||h.body,h.serverRoot=h.clientRoot=h.appRoot}function r(e,t,n){h.appRoot=e,h.serverRoot=t,h.clientRoot=n}function a(e){return h.document.querySelector(e)}function i(e){return h.appRoot.querySelector(e)}function s(e){return h.appRoot.querySelectorAll(e)}function l(e){return h.clientRoot.querySelectorAll(e)}function u(e){h.window.addEventListener("load",e)}function d(e,t){h.document.addEventListener(e,t)}function p(e){h.document.dispatchEvent(new h.window.Event(e))}function f(e,t){e.dispatchEvent(new h.window.Event(t))}function c(e){return h.appRoot.contains(e)}function v(e,t,n){var o=h.document.createElement(e);if(o.className=t,n)for(var r in n)n.hasOwnProperty(r)&&(o.style[r]=n[r]);return h.body.appendChild(o)}function y(e){e.remove?e.remove():e.style.display="none"}function m(e,t){for(var n=[],o=e;o&&o!==t;)n.push(o),o=o.parentNode;o&&n.push(o);var r,a,i=e.nodeName,s=n.length;for(r=s-1;r>=0;r--)if(o=n[r],o.childNodes&&r>0)for(a=0;a<o.childNodes.length;a++)if(o.childNodes[a]===n[r-1]){i+="_s"+(a+1);break}return i}function g(e){if(!e)return null;for(var t=m(e,h.serverRoot),n=N[t]||[],o=0;o<n.length;o++)if(n[o].serverNode===e)return n[o].clientNode;var r=e.tagName,a=(e.className||"").replace("ng-binding","").trim();e.id?r+="#"+e.id:a&&(r+="."+a.replace(/ /g,"."));var i=l(r);for(o=0;i&&o<i.length;o++){var s=i[o];if(m(s,h.clientRoot)===t)return N[t]=N[t]||[],N[t].push({clientNode:s,serverNode:e}),s}return null}var h={},N={};t.exports={state:h,nodeCache:N,init:o,updateRoots:r,getDocumentNode:a,getAppNode:i,getAllAppNodes:s,getClientNodes:l,onLoad:u,on:d,dispatchGlobalEvent:p,dispatchNodeEvent:f,appContains:c,addNodeToBody:v,removeNode:y,getNodeKey:m,findClientNode:g}},{}],3:[function(e,t,n){function o(e,t,n){return function(o){u.listening&&(e.preventDefault&&o.preventDefault(),e.dispatchEvent&&l.dispatchGlobalEvent(e.dispatchEvent),e.action&&e.action(t,o,l),e.trackFocus&&(u.activeNode="focusin"===o.type?o.target:null),"keyup"===n&&13===o.which&&t.attributes["(keyup.enter)"]&&l.dispatchGlobalEvent("PrebootFreeze"),e.doNotReplay||u.events.push({node:t,event:o,name:n,time:(new Date).getTime()}))}}function r(e,t){for(var n=0;n<e.length;n++){var r=e[n],a=r.node,i=r.eventName,s=o(t,a,i);a.addEventListener(i,s),u.eventListeners.push({node:a,name:i,handler:s})}}function a(t){var n=t.listen||[];u.listening=!0;for(var o=0;o<n.length;o++){var a=n[o],i=a.getNodeEvents||e("./listen/listen_by_"+a.name+".js").getNodeEvents,s=i(a,l);r(s,a,t)}}function i(t,n){var o=t.replay||[];u.listening=!1;for(var r=0;r<o.length;r++){var a=o[r],i=a.replayEvents||e("./replay/replay_after_"+a.name+".js").replayEvents;u.events=i(u.events,a,n,l)}}function s(e){var t,n;if(e.focus&&u.activeNode){var o=l.findClientNode(u.activeNode);o&&o.focus()}for(var r=0;r<u.eventListeners.length;r++)t=u.eventListeners[r],n=t.node,n.removeEventListener(t.name,t.handler);u.events=[]}var l=e("./dom"),u={eventListeners:[],events:[],listening:!1,activeNode:null};t.exports={state:u,getEventHandler:o,addEventListeners:r,startListening:a,replayEvents:i,cleanup:s}},{"./dom":2}],4:[function(e,t,n){function o(e){console.log("preboot options are:"),console.log(e)}function r(e){console.log("preboot events captured are:"),console.log(e)}function a(e,t,n){console.log("replaying:"),console.log({serverNode:e,clientNode:t,event:n})}function i(e){console.log("preboot could not find client node for:"),console.log(e)}function s(){if(arguments.length){var e=arguments[0]+"",t=l[e];if(t){var n=arguments.length>0?[].splice.call(arguments,1):[];t.apply(null,n)}}}var l={1:o,2:r,3:a,4:i};t.exports={log:s}},{}],5:[function(e,t,n){function o(){var e=f.opts;p(2,u.state.events),f.completeCalled=!0,f.canComplete&&(u.replayEvents(e,p),e.buffer&&d.switchBuffer(e),e.freeze&&f.freeze.cleanup(),u.cleanup(e))}function r(e){return function(){l.init({window:window}),l.updateRoots(l.getDocumentNode(e.appRoot)),e.buffer&&d.prep(e),e.freeze&&f.freeze.prep(e),u.startListening(e)}}function a(){f.canComplete=!1}function i(){return function(){f.canComplete=!0,f.completeCalled&&setTimeout(o,10)}}function s(t){f.opts=t,p(1,t),f.freeze="string"==typeof t.freeze?e("./freeze/freeze_with_"+t.freeze+".js"):t.freeze,l.init({window:window}),l.onLoad(r(t)),l.on(t.pauseEvent,a),l.on(t.resumeEvent,i(t))}var l=e("./dom"),u=e("./event_manager"),d=e("./buffer/buffer_manager"),p=e("./log").log||function(){},f={canComplete:!0,completeCalled:!1,freeze:null,opts:null};t.exports={eventManager:u,bufferManager:d,start:s,done:o}},{"./buffer/buffer_manager":1,"./dom":2,"./event_manager":3,"./log":4}]},{},[5])(5)}),preboot.start({appRoot:"app",replay:[{name:"rerender"}],freeze:"spinner",focus:!0,buffer:!0,keyPress:!0,uglify:!0,buttonPress:!0,pauseEvent:"PrebootPause",resumeEvent:"PrebootResume",freezeEvent:"PrebootFreeze",listen:[{name:"selectors",eventsBySelector:{'input[type="text"],textarea':["keypress","keyup","keydown"]}},{name:"selectors",eventsBySelector:{'input[type="text"],textarea':["focusin","focusout"]},trackFocus:!0,doNotReplay:!0},{name:"selectors",preventDefault:!0,eventsBySelector:{'input[type="submit"],button':["click"]},dispatchEvent:"PrebootFreeze"}],freezeStyles:{overlay:{className:"preboot-overlay",style:{position:"absolute",display:"none",zIndex:"9999999",top:"0",left:"0",width:"100%",height:"100%"}},spinner:{className:"preboot-spinner",style:{position:"absolute",display:"none",zIndex:"99999999"}}}});